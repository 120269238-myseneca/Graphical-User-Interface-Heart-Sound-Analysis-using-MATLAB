# Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB

Introduction

The Heartbeat Sound Analysis App is a project born out of necessity during the COVID-19 pandemic. Recognizing the heart's essential role in determining life, I developed an application that measures heartbeats via sound. This app is aimed at aiding the general public by offering a free tool to easily monitor one's heart rate using just the sound of the heartbeat.

Features

- Simple Graphical User Interface (GUI) for ease of use
- Ability to input the sound of a heartbeat
- Instant analysis and display of heart rate

 Installation and Usage

1. Installation: Clone the repository or download the app from the provided link. Follow the installation instructions specific to your device.

2. Usage:
    - Open the file using matlab
    - Record or upload the sound of a heartbeat.
    - Click on "Analyze" to get the heart rate result.
  
 Heartbeatapp.m is code that can be put into a Matlab file to run for easier use, but the design of app will required. 
  
 Motivation

During the COVID-19 pandemic, hospitals would connect patients to heartbeat monitoring machines as soon as they were admitted. This made me realize the significance of monitoring the heart, as it's the most critical organ, and its failure often signifies a life-threatening situation. This application aims to provide every individual with a tool to measure their heart rate without the need for specialized equipment. My vision is to make it easier and accessible for everyone to monitor their heart's health.


**Explanation of Working**
When the program is started, code is executed that is responsible for initializing the Graphical User Interface of the program. This code was generated by MATLAB’s App Designer, and the most that I had to do was Drag and Drop the Components such as the buttons and the text labels to the places in the layout that I wanted. For the buttons, I had to set the callback that would be processed on clicking that button, and the various properties such as when that button would be clickable, and the text on the button. For the text labels that display the name of the file that is
selected or the ones that display information such as the length of the sound file and the BPM, I had to set their properties such as the output value or when they become visible to the user.

![mathlabpart1](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/cdef9577-6b69-4279-b11b-783887083a69)
This is what is displayed to the user on running the program. On clicking the “Select File” button, the selfie() function is executed, which runs uigetfile() to open the file selection window of the operating system, which is used to select the sound file that the user wishes to analyze. The name of the file is added as the filename variable, and it can be in various common sound file formats, such as .wav, .mp3, and .m4a.
The code at the end of selfie() enables the Start Analysis button which was previously grayed out, and also displays the name of the audio file that was selected by the user. On pressing the Start Analysis button, the start() function is executed, which is where I wrote the main code for the program.
Going step by step in the start() function, first the program adds the sound file as a MATLAB data set called orig file, with a sampling frequency of origins, by using the audioread() function.
In the two steps after this, the audio data set is decimated to use only every 10th sample of the audio file. This is done to reduce processing times, and to also prevent errors from large sound files. The new audio dataset is stored as A, and the sampling frequency as fs.
The next four lines are for plotting the original sound file. The line after this calculates the
amount of time of the sound file, calculated by dividing the number of sound samples by the sampling rate.
The next 3 lines are for displaying the text label in the GUI frontend that displays the length of the sound file.
The next 6 lines are an important component of this project. This is where the audio signal gets filtered by the bandpass() function to be between the frequencies of 70 Hz and 120 Hz. This reduces much of the noise from the audio file. I decided to filter the sound signal between these two frequencies as I had realized that the Fourier Transform of nearly all the sound samples
spiked between these two frequencies. It was after this that I learned that indeed the frequency of the human heartbeat lies between 70 to 120 Hz.
![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/cf1650b2-6397-4bcb-879b-51a994d08cce)
![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/67e10fec-8760-4ef2-92db-edce9d53e0eb)

![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/bbb67614-9d73-4c23-a956-f974a4725d45)
![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/610cd5ac-36f2-4a05-9fec-dd51dcb486da)
The next four lines are the next key component of the program, which is where the program detects the peaks of the filtered sound file. In an electrocardiogram, one heart beat is represented as one pulse, however in a heart sound signal, one heartbeat is two consecutive peaks. For finding the peaks that should be detected as a heart beat, I use the findpeaks() function to find the peaks which have a minimum peak height value of the 99th percentile of all sound samples, and
also have a minimum distance of 250 samples per peak. This minimum distance was chosen experimentally, and I have observed that for longer sound samples, this value should be shorter for a more accurate result.


![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/6bc4a743-76d1-4cf4-b340-e3a67ebfcb81)

![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/cc775c49-69aa-4449-866e-053eb8e23236)


One heartbeat of a heart sound file that corresponds to one ECG pulse.
 
The concluding lines of the function are where the program sums up the number of peaks, and displays the result in the GUI. Since every two peaks is one heartbeat, it divides this value by 2. By dividing the value by the time of the sample, we get the value of the heart beats per second, which can be multiplied by 60 to give us our desired calculation of beats per minute.

Result:-


![image](https://github.com/sodeep112/Graphical-User-Interface-Heart-Sound-Analysis-using-MATLAB/assets/63743435/466c1b75-2482-4364-87de-24ceb18fa11e)

Fig- GUI Telling what result you got

 Contributing
I wholeheartedly welcome contributions to this project. If you have suggestions, improvements, or want to report bugs, please open an issue or a pull request.




